{"ast":null,"code":"import{useEffect,useState}from\"react\";import{deleteProductByID,getAllProducts}from\"../services/product.services\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function ProductList(){const[products,serProducts]=useState([]);useEffect(()=>{fetchProducts();},[]);async function fetchProducts(){const res=await getAllProducts();fetchProducts(res,products);}async function deleteProduct(id){const res=await deleteProductByID(id);fetchProducts();}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Prix\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map((elem,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index}),/*#__PURE__*/_jsx(\"td\",{children:elem.name}),/*#__PURE__*/_jsx(\"td\",{children:elem.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteProductByID(elem._id)})})]}))})]}),/*#__PURE__*/_jsx(Link,{to:\"/products/new\",children:\"New Product\"})]});}","map":{"version":3,"names":["useEffect","useState","deleteProductByID","getAllProducts","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductList","products","serProducts","fetchProducts","res","deleteProduct","id","children","map","elem","index","name","price","onClick","_id","to"],"sources":["C:/Users/Utilizateur/Desktop/DevWebAv/Controle/Frontend/src/components/component_product_list.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { deleteProductByID, getAllProducts } from \"../services/product.services\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function ProductList(){\r\n    const  [products,serProducts]=useState([]);\r\n    useEffect(()=>{\r\n        fetchProducts();\r\n    },[])\r\n    async function fetchProducts(){\r\n        const res=await getAllProducts()\r\n        fetchProducts(res,products);\r\n    }\r\n\r\n    async function deleteProduct(id){\r\n        const res=await deleteProductByID(id)\r\n        fetchProducts();\r\n    }\r\n\r\n    return (\r\n        <><table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Nom</th>\r\n                    <th>Prix</th>\r\n                    <th>Action</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {products.map((elem, index) => (\r\n                    <tr>\r\n                        <td>{index}</td>\r\n                        <td>{elem.name}</td>\r\n                        <td>{elem.price}</td>\r\n                        <td><button onClick={() => deleteProductByID(elem._id)}></button></td>\r\n                    </tr>\r\n                )\r\n                )}\r\n            </tbody>\r\n        </table>\r\n        <Link to={\"/products/new\"}>\r\n                New Product\r\n            </Link></>\r\n    )\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,iBAAiB,CAAEC,cAAc,KAAQ,8BAA8B,CAChF,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExC,MAAO,SAAS,CAAAC,WAAWA,CAAA,CAAE,CACzB,KAAO,CAACC,QAAQ,CAACC,WAAW,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CAC1CD,SAAS,CAAC,IAAI,CACVc,aAAa,CAAC,CAAC,CACnB,CAAC,CAAC,EAAE,CAAC,CACL,cAAe,CAAAA,aAAaA,CAAA,CAAE,CAC1B,KAAM,CAAAC,GAAG,CAAC,KAAM,CAAAZ,cAAc,CAAC,CAAC,CAChCW,aAAa,CAACC,GAAG,CAACH,QAAQ,CAAC,CAC/B,CAEA,cAAe,CAAAI,aAAaA,CAACC,EAAE,CAAC,CAC5B,KAAM,CAAAF,GAAG,CAAC,KAAM,CAAAb,iBAAiB,CAACe,EAAE,CAAC,CACrCH,aAAa,CAAC,CAAC,CACnB,CAEA,mBACIN,KAAA,CAAAE,SAAA,EAAAQ,QAAA,eAAEV,KAAA,UAAAU,QAAA,eACEZ,IAAA,UAAAY,QAAA,cACIV,KAAA,OAAAU,QAAA,eACIZ,IAAA,OAAAY,QAAA,CAAI,KAAG,CAAI,CAAC,cACZZ,IAAA,OAAAY,QAAA,CAAI,MAAI,CAAI,CAAC,cACbZ,IAAA,OAAAY,QAAA,CAAI,QAAM,CAAI,CAAC,EACf,CAAC,CACF,CAAC,cACRZ,IAAA,UAAAY,QAAA,CACKN,QAAQ,CAACO,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACtBb,KAAA,OAAAU,QAAA,eACIZ,IAAA,OAAAY,QAAA,CAAKG,KAAK,CAAK,CAAC,cAChBf,IAAA,OAAAY,QAAA,CAAKE,IAAI,CAACE,IAAI,CAAK,CAAC,cACpBhB,IAAA,OAAAY,QAAA,CAAKE,IAAI,CAACG,KAAK,CAAK,CAAC,cACrBjB,IAAA,OAAAY,QAAA,cAAIZ,IAAA,WAAQkB,OAAO,CAAEA,CAAA,GAAMtB,iBAAiB,CAACkB,IAAI,CAACK,GAAG,CAAE,CAAS,CAAC,CAAI,CAAC,EACtE,CAER,CAAC,CACE,CAAC,EACL,CAAC,cACRnB,IAAA,CAACF,IAAI,EAACsB,EAAE,CAAE,eAAgB,CAAAR,QAAA,CAAC,aAEvB,CAAM,CAAC,EAAE,CAAC,CAEtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}